<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>
            {% if page.url != '/' %}
            {% if page.layout == 'bin' %}
            {{ page.title | downcase }}
            {% else %}
            {{ page.title }}
            {% endif %}
            |
            {% endif %}
            {{ site.title }}
        </title>
        <link rel="icon" href="{{site.baseurl}}/assets/logo.png">
        <link id="pagestyle" rel="stylesheet" href="{{site.baseurl}}/assets/style.css" type="text/css"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    </head>
    <body>
        <script type="text/javascript">
            

            document.addEventListener('DOMContentLoaded', function () {
            var checkbox = document.querySelector('input[type="checkbox"]');
            checkbox.addEventListener('change', function () {
                if (checkbox.checked) {
                    document.getElementById('pagestyle').setAttribute('href','{{site.baseurl}}/assets/styleDark.css');
                    localStorage["style"] = "true";
                
                } else {
                    document.getElementById('pagestyle').setAttribute('href','{{site.baseurl}}/assets/style.css');
                    localStorage["style"] = "false";
                }
            });
            });

        </script>

 
        
        {{ content }}
        <script>
         // add permalink on headings
         document.querySelectorAll('h2, h3, h4, h5, h5').forEach((heading) => {
             const link = document.createElement('a');
             link.className = 'permalink';
             link.href = `#${heading.id}`;
             heading.appendChild(link);
         });

        // Function to import URL parameters into the search bar.
         function getForAttributesAndMatch() {
                const keysSearched = window.location.hash.substr(1).split('+');
                const items = document.querySelectorAll("#bin-search-filters li");
                items.forEach(item => {
                    const label = item.querySelector("label");
                    if (label) {
                        const forValue = label.getAttribute("for");
                        if (keysSearched.includes(encodeURIComponent(forValue))) {
                            document.getElementById(item.querySelector("input").id).className = 'match';
                            document.getElementById(label.id).textContent = document.getElementById(label.id).textContent + "âœ“";
                            var checkbox = document.getElementById(item.querySelector("input").id);
                            checkbox.checked = true;
                        }
                    }
                });
            }
        getForAttributesAndMatch();          
        </script>
    </body>
</html>
